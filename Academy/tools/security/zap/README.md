# OWASP ZAP Baseline Toolkit

This package enables authenticated OWASP ZAP baseline scans for the Academy platform and aligns with the automated GitHub Actions workflow.

## Components

- `run_baseline.sh` – wraps the official `ghcr.io/zaproxy/zaproxy:stable` container, persisting HTML/JSON/Markdown outputs and respecting optional authentication headers (`ZAP_AUTH_HEADER*`).
- `summarize_zap.py` – condenses the verbose JSON report into structured summaries used by CI and compliance reporting.
- `sample_zap_report.json` – fixture representing the JSON schema for local testing and CI validation.

## Running Locally

```bash
export ZAP_BASELINE_TARGET="https://staging.academy.example"
# Optional authentication headers for member-only routes
export ZAP_AUTH_HEADER="Authorization"
export ZAP_AUTH_HEADER_VALUE="Bearer <token>"

./run_baseline.sh
```

Outputs are placed in the directory specified by `ZAP_OUTPUT_DIR` (defaults to a temporary folder) and include:

- `zap-report.html` – full HTML report generated by ZAP.
- `zap-report.json` – machine-readable alert list.
- `zap-summary.json` / `zap-summary.md` – condensed artefacts for quick review and upload to the security knowledge base.

Use `summarize_zap.py` independently to post-process stored JSON reports:

```bash
python summarize_zap.py --input zap-report.json --output summary.json --markdown summary.md
```

These utilities feed Section 12.5 of the upgrade roadmap, ensuring preparation (scheduling, tooling) and remediation (evidence for closure) targets are met.
